---
title: 关于QQ机器人
date: 2022-03-26
cover: https://s1.ax1x.com/2022/03/25/qtO5PH.jpg
tags:
 - 学习
categories:
 - 学习
---

# 关于QQ机器人

***今天看到群里有问我QQ机器人是怎么做的，于是我打算就此写一篇博客***

## 先简单介绍一下

QQ机器人是使用

[go-cqhttp](https://docs.go-cqhttp.org/)（负责收发信息）<br>
[nonebot2](https://v2.nonebot.dev/)（负责处理信息）

这两个框架开发

## 开始

对于QQ机器人的学习是从去年开始的，学会用Github也是也是在那段时候。一开始是跟着[这个视频](https://www.bilibili.com/video/BV1Z64y197Ps?share_source=copy_web)做的，认识了go-cqhttp和nonebot，学会了最基本的配环境，使用pip安装依赖之类的。也跟着视频实现了简单的回复和发送图片的功能。不过就跟博客搭建一样，视频只教了一些最基础的内容，要想实现更复杂的内容就要靠自己了。

::: warning 注意
后来因为nonebot2版本更新变化较大，目前已经更新到了2.0.0-beta.2版本,这些教程可能已经过时
:::

于是我开始试着自己读go-cqhttp和nonebot的官方文档，文档写得很详细，功能也多到我眼花缭乱。但由于我个人技术能力有限，并不知道具体该如何使用。不过文档中有[商店](https://v2.nonebot.dev/store)，先去下一个别人的机器人先用起来吧，有大佬写好的能直接用为什么要自己写呢（老懒狗了）

## 部署

在寒假的时候我下载了[绪山真寻bot](https://hibikier.github.io/zhenxun_bot/)

~~至于原因？当然是因为xp了兄弟，白发傲娇可爱美少女谁不爱？~~

这个机器人就厉害了，不仅用到了go-cqhttp和nonebot2，还需要Postgresql数据库。具体的部署过程官方文档中很详细，这里就不过多赘述，主要讲讲我在部署和使用过程中遇到的问题。

### 一

刚开始我是部署在自己的小破笔记本上，文档中说是<u>建议使用linux系统，但Windows也不是不行</u>。结果第一步`pip3 install -r requirements.txt`安装依赖时就出现了报错。当时我想着少几个依赖应该也能跑起来，那试试呗。一运行，满屏报错(｡•́︿•̀｡)

问了群里的大佬说是因为这个依赖不支持windows，或许更新的版本会支持。然后我就用`pip list`列出已经安装的包，然后一个个`pip install`去下那些没安好的依赖。最后还有几个依赖没装上，但是`python bot.py`能跑起来了。

虽然后来发现有很多功能用不了，但是他能用，能用就行！

### 二

但是机器人一直跑在笔记本上也不是个办法，得把它部署到别的地方去。
